{"version":3,"file":"static/js/281.28363ae4.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/MovieDetailsPage/movieDetailsPage.module.css?c394","pages/MovieDetailsPage/MovieDetailsPage.jsx","shared/services/moviesAPI.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"goBack\":\"movieDetailsPage_goBack__gAebg\",\"wrapper\":\"movieDetailsPage_wrapper__kmPut\",\"about\":\"movieDetailsPage_about__vqkbY\",\"score\":\"movieDetailsPage_score__MK4dr\",\"overwiev\":\"movieDetailsPage_overwiev__QSdyG\",\"genresTitle\":\"movieDetailsPage_genresTitle__sJZRH\",\"genres\":\"movieDetailsPage_genres__LiaVf\",\"info\":\"movieDetailsPage_info__G9PsW\",\"links\":\"movieDetailsPage_links__AVOFn\",\"genresItem\":\"movieDetailsPage_genresItem__qaqEt\",\"link\":\"movieDetailsPage_link__ZHtlQ\"};","import { useState, useEffect } from 'react';\nimport {\n  Link,\n  useParams,\n  useNavigate,\n  useLocation,\n  Outlet,\n} from 'react-router-dom';\n\nimport { fetchMovieById } from 'shared/services/moviesAPI';\n\nimport s from './movieDetailsPage.module.css';\n\nconst MovieDetailsPage = () => {\n  const [data, setData] = useState({\n    movie: {},\n    loading: false,\n    error: null,\n  });\n  const { id } = useParams();\n  const IMG_URL = 'https://image.tmdb.org/t/p/w500';\n\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const from = location?.state?.from || '/';\n  const goBack = () => navigate(from);\n\n  useEffect(() => {\n    const fetchMovie = async () => {\n      setData(prev => ({\n        ...prev,\n        loading: true,\n      }));\n      try {\n        const data = await fetchMovieById(id);\n        setData(prev => ({\n          ...prev,\n          movie: data,\n          loading: false,\n        }));\n      } catch (err) {\n        setData(prev => ({ ...prev, loading: false, error: err.message }));\n      }\n    };\n    fetchMovie();\n  }, [id]);\n\n  const { movie, loading, error } = data;\n\n  const { poster_path, title, vote_average, overview, genres } = movie;\n\n  return (\n    <>\n      <button className={s.goBack} onClick={goBack}>\n        &#8617; Go back\n      </button>\n      {loading && <p>...Loading</p>}\n      {movie && (\n        <>\n          <div className={s.wrapper}>\n            <img src={IMG_URL + poster_path} alt={title} className={s.img} />\n            <div className={s.about}>\n              <h2>{title}</h2>\n              <p className={s.score}> User score: {vote_average * 10}%</p>\n              <h3>Overview</h3>\n              <p className={s.overwiev}>{overview}</p>\n              <h3 className={s.genresTitle}>Genres</h3>\n              <p>\n                {genres &&\n                  genres.map(el => (\n                    <span className={s.genresItem} key={el.id}>\n                      {el.name}\n                    </span>\n                  ))}\n              </p>\n            </div>\n          </div>\n          <div className={s.links}>\n            <h3 className={s.info}>Aditional information</h3>\n            <Link state={{ from }} className={s.link} to={`/movies/${id}/cast`}>\n              Cast\n            </Link>\n            <Link\n              state={{ from }}\n              className={s.link}\n              to={`/movies/${id}/reviews`}\n            >\n              Reviews\n            </Link>\n          </div>\n          <div>\n            <Outlet />\n          </div>\n        </>\n      )}\n      {error && <p>{error}</p>}\n    </>\n  );\n};\n\nexport default MovieDetailsPage;\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: '473bf57b6e795f74966a4b9785ccc38f',\n  },\n});\n\nexport const fetchTrending = async () => {\n  const { data } = await instance.get('/trending/all/day', {\n    params: {\n      page: 1,\n    },\n  });\n\n  return data;\n};\n\nexport const fetchMovieById = async id => {\n  const { data } = await instance.get(`/movie/${id}`);\n  return data;\n};\n\nexport const fetchMovieCast = async id => {\n  const { data } = await instance.get(`/movie/${id}/credits`);\n  return data;\n};\n\nexport const fetchMovieReviews = async id => {\n  const { data } = await instance.get(`/movie/${id}/reviews`);\n  return data;\n};\n\nexport const fechMovieByQuery = async query => {\n  const { data } = await instance.get(`search/movie/`, {\n    params: {\n      query,\n    },\n  });\n  return data;\n};\n"],"names":["useState","movie","loading","error","data","setData","id","useParams","navigate","useNavigate","location","useLocation","from","state","useEffect","fetchMovie","prev","fetchMovieById","message","poster_path","title","vote_average","overview","genres","className","s","onClick","src","alt","map","el","name","to","instance","axios","baseURL","params","api_key","fetchTrending","get","page","fetchMovieCast","fetchMovieReviews","fechMovieByQuery","query"],"sourceRoot":""}